#  CodeClimate Configuration for FrameFuse
# Configuraci贸n de calidad de c贸digo optimizada para TypeScript/Node.js

version: "2"

# Configuraci贸n general
checks:
  # Reglas de TypeScript
  typescript:
    enabled: true
    config:
      # Configuraci贸n de ESLint para TypeScript
      parser: "@typescript-eslint/parser"
      plugins:
        - "@typescript-eslint"
      extends:
        - "eslint:recommended"
        - "@typescript-eslint/recommended"
      rules:
        # Reglas espec铆ficas para FrameFuse
        "@typescript-eslint/no-unused-vars": "error"
        "@typescript-eslint/no-explicit-any": "warn"
        "@typescript-eslint/explicit-function-return-type": "off"
        "@typescript-eslint/no-empty-function": "warn"

  # Reglas de Node.js
  node:
    enabled: true

  # Reglas de seguridad
  security:
    enabled: true

# An谩lisis de archivos
include:
  - "**/*.ts"
  - "**/*.tsx"
  - "**/*.js"
  - "**/*.jsx"
  - "package.json"
  - "tsconfig.json"

exclude:
  - "**/node_modules/**"
  - "**/dist/**"
  - "**/*.test.*"
  - "**/*.spec.*"
  - "**/coverage/**"

# Configuraci贸n espec铆fica por directorio
engines:
  # ESLint para JavaScript/TypeScript
  eslint:
    enabled: true
    channel: "eslint-8"
    config:
      config: "eslint.config.js"

  # TypeScript compiler
  typescript:
    enabled: true
    channel: "beta"
    config:
      config: "tsconfig.json"

  # Node.js security
  nodesecurity:
    enabled: true

  # Docker best practices
  dockerfile:
    enabled: true
    config:
      dockerfile: "Dockerfile"

# Umbrales de calidad
ratings:
  paths:
    - "src/**"
    - "packages/**"
    - "api/**"

# Configuraci贸n de duplicaci贸n de c贸digo
duplication:
  enabled: true
  config:
    languages:
      - typescript
      - javascript

# Configuraci贸n de complejidad
complexity:
  enabled: true
  config:
    threshold: 10  # Umbral de complejidad ciclom谩tica

# Configuraci贸n de cobertura (si se implementa)
coverage:
  enabled: false  # Habilitar cuando se implemente cobertura
  config:
    threshold: 80  # Cobertura m铆nima requerida (%)

# Plugins adicionales para an谩lisis espec铆fico
plugins:
  # An谩lisis de dependencias
  dependency-check:
    enabled: true

  # An谩lisis de licencias
  license-finder:
    enabled: true

  # An谩lisis de vulnerabilidades
  brakeman:
    enabled: false  # Solo para Ruby, deshabilitado

# Preparaci贸n del an谩lisis
prepare:
  fetch:
    - url: "https://raw.githubusercontent.com/framefuse/style-guide/main/.eslintrc.js"
      path: ".eslintrc.js"
